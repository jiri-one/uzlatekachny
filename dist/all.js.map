{"version":3,"sources":["smoothscroll.js"],"names":["global","factory","exports","module","define","amd","self","SmoothScroll","this","defaults","ignore","header","topOnEmptyHash","speed","speedAsDuration","durationMax","durationMin","clip","offset","easing","customEasing","updateURL","popstate","emitEvents","extend","merged","Array","prototype","forEach","call","arguments","obj","key","hasOwnProperty","escapeCharacters","id","charAt","substr","codeUnit","string","String","length","index","result","firstCodeUnit","charCodeAt","InvalidCharacterError","toString","getDocumentHeight","Math","max","document","body","scrollHeight","documentElement","offsetHeight","clientHeight","getHeaderHeight","elem","parseInt","window","getComputedStyle","height","offsetTop","adjustFocus","anchor","endLocation","isNum","focus","activeElement","setAttribute","style","outline","scrollTo","emitEvent","type","options","toggle","CustomEvent","event","bubbles","detail","dispatchEvent","selector","settings","fixedHeader","animationInterval","smoothScroll","cancelScroll","noEvent","cancelAnimationFrame","animateScroll","_settings","Object","anchorElem","tagName","startLocation","pageYOffset","querySelector","start","percentage","position","headerHeight","location","offsetParent","min","innerHeight","getEndLocation","distance","documentHeight","timeLapsed","abs","getSpeed","loopAnimateScroll","timestamp","time","pattern","easingPattern","floor","currentLocation","stopAnimateScroll","requestAnimationFrame","history","pushState","JSON","stringify","title","matchMedia","matches","clickHandler","defaultPrevented","button","metaKey","ctrlKey","shiftKey","target","closest","toLowerCase","hostname","pathname","test","href","hash","decodeURIComponent","e","preventDefault","replaceState","state","setHistory","popstateHandler","destroy","removeEventListener","Element","addEventListener","init"],"mappings":"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","file":"all.js","sourcesContent":["/*! SmoothScroll v16.1.4 | (c) 2020 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/smooth-scroll */\r\n(function (global, factory) {\r\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\r\n\ttypeof define === 'function' && define.amd ? define(factory) :\r\n\t(global = global || self, global.SmoothScroll = factory());\r\n}(this, (function () { 'use strict';\r\n\r\n\t//\r\n\t// Default settings\r\n\t//\r\n\r\n\tvar defaults = {\r\n\r\n\t\t// Selectors\r\n\t\tignore: '[data-scroll-ignore]',\r\n\t\theader: null,\r\n\t\ttopOnEmptyHash: true,\r\n\r\n\t\t// Speed & Duration\r\n\t\tspeed: 500,\r\n\t\tspeedAsDuration: false,\r\n\t\tdurationMax: null,\r\n\t\tdurationMin: null,\r\n\t\tclip: true,\r\n\t\toffset: 0,\r\n\r\n\t\t// Easing\r\n\t\teasing: 'easeInOutCubic',\r\n\t\tcustomEasing: null,\r\n\r\n\t\t// History\r\n\t\tupdateURL: true,\r\n\t\tpopstate: true,\r\n\r\n\t\t// Custom Events\r\n\t\temitEvents: true\r\n\r\n\t};\r\n\r\n\r\n\t//\r\n\t// Utility Methods\r\n\t//\r\n\r\n\t/**\r\n\t * Check if browser supports required methods\r\n\t * @return {Boolean} Returns true if all required methods are supported\r\n\t */\r\n\tvar supports = function () {\r\n\t\treturn (\r\n\t\t\t'querySelector' in document &&\r\n\t\t\t'addEventListener' in window &&\r\n\t\t\t'requestAnimationFrame' in window &&\r\n\t\t\t'closest' in window.Element.prototype\r\n\t\t);\r\n\t};\r\n\r\n\t/**\r\n\t * Merge two or more objects together.\r\n\t * @param   {Object}   objects  The objects to merge together\r\n\t * @returns {Object}            Merged values of defaults and options\r\n\t */\r\n\tvar extend = function () {\r\n\t\tvar merged = {};\r\n\t\tArray.prototype.forEach.call(arguments, function (obj) {\r\n\t\t\tfor (var key in obj) {\r\n\t\t\t\tif (!obj.hasOwnProperty(key)) return;\r\n\t\t\t\tmerged[key] = obj[key];\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn merged;\r\n\t};\r\n\r\n\t/**\r\n\t * Check to see if user prefers reduced motion\r\n\t * @param  {Object} settings Script settings\r\n\t */\r\n\tvar reduceMotion = function () {\r\n\t\tif ('matchMedia' in window && window.matchMedia('(prefers-reduced-motion)').matches) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\t/**\r\n\t * Get the height of an element.\r\n\t * @param  {Node} elem The element to get the height of\r\n\t * @return {Number}    The element's height in pixels\r\n\t */\r\n\tvar getHeight = function (elem) {\r\n\t\treturn parseInt(window.getComputedStyle(elem).height, 10);\r\n\t};\r\n\r\n\t/**\r\n\t * Escape special characters for use with querySelector\r\n\t * @author Mathias Bynens\r\n\t * @link https://github.com/mathiasbynens/CSS.escape\r\n\t * @param {String} id The anchor ID to escape\r\n\t */\r\n\tvar escapeCharacters = function (id) {\r\n\r\n\t\t// Remove leading hash\r\n\t\tif (id.charAt(0) === '#') {\r\n\t\t\tid = id.substr(1);\r\n\t\t}\r\n\r\n\t\tvar string = String(id);\r\n\t\tvar length = string.length;\r\n\t\tvar index = -1;\r\n\t\tvar codeUnit;\r\n\t\tvar result = '';\r\n\t\tvar firstCodeUnit = string.charCodeAt(0);\r\n\t\twhile (++index < length) {\r\n\t\t\tcodeUnit = string.charCodeAt(index);\r\n\t\t\t// Note: there’s no need to special-case astral symbols, surrogate\r\n\t\t\t// pairs, or lone surrogates.\r\n\r\n\t\t\t// If the character is NULL (U+0000), then throw an\r\n\t\t\t// `InvalidCharacterError` exception and terminate these steps.\r\n\t\t\tif (codeUnit === 0x0000) {\r\n\t\t\t\tthrow new InvalidCharacterError(\r\n\t\t\t\t\t'Invalid character: the input contains U+0000.'\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tif (\r\n\t\t\t\t// If the character is in the range [\\1-\\1F] (U+0001 to U+001F) or is\r\n\t\t\t\t// U+007F, […]\r\n\t\t\t\t(codeUnit >= 0x0001 && codeUnit <= 0x001F) || codeUnit == 0x007F ||\r\n\t\t\t\t// If the character is the first character and is in the range [0-9]\r\n\t\t\t\t// (U+0030 to U+0039), […]\r\n\t\t\t\t(index === 0 && codeUnit >= 0x0030 && codeUnit <= 0x0039) ||\r\n\t\t\t\t// If the character is the second character and is in the range [0-9]\r\n\t\t\t\t// (U+0030 to U+0039) and the first character is a `-` (U+002D), […]\r\n\t\t\t\t(\r\n\t\t\t\t\tindex === 1 &&\r\n\t\t\t\t\tcodeUnit >= 0x0030 && codeUnit <= 0x0039 &&\r\n\t\t\t\t\tfirstCodeUnit === 0x002D\r\n\t\t\t\t)\r\n\t\t\t) {\r\n\t\t\t\t// http://dev.w3.org/csswg/cssom/#escape-a-character-as-code-point\r\n\t\t\t\tresult += '\\\\' + codeUnit.toString(16) + ' ';\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t// If the character is not handled by one of the above rules and is\r\n\t\t\t// greater than or equal to U+0080, is `-` (U+002D) or `_` (U+005F), or\r\n\t\t\t// is in one of the ranges [0-9] (U+0030 to U+0039), [A-Z] (U+0041 to\r\n\t\t\t// U+005A), or [a-z] (U+0061 to U+007A), […]\r\n\t\t\tif (\r\n\t\t\t\tcodeUnit >= 0x0080 ||\r\n\t\t\t\tcodeUnit === 0x002D ||\r\n\t\t\t\tcodeUnit === 0x005F ||\r\n\t\t\t\tcodeUnit >= 0x0030 && codeUnit <= 0x0039 ||\r\n\t\t\t\tcodeUnit >= 0x0041 && codeUnit <= 0x005A ||\r\n\t\t\t\tcodeUnit >= 0x0061 && codeUnit <= 0x007A\r\n\t\t\t) {\r\n\t\t\t\t// the character itself\r\n\t\t\t\tresult += string.charAt(index);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t// Otherwise, the escaped character.\r\n\t\t\t// http://dev.w3.org/csswg/cssom/#escape-a-character\r\n\t\t\tresult += '\\\\' + string.charAt(index);\r\n\r\n\t\t}\r\n\r\n\t\t// Return sanitized hash\r\n\t\treturn '#' + result;\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Calculate the easing pattern\r\n\t * @link https://gist.github.com/gre/1650294\r\n\t * @param   {Object} settings Easing pattern\r\n\t * @param   {Number} time     Time animation should take to complete\r\n\t * @returns {Number}\r\n\t */\r\n\tvar easingPattern = function (settings, time) {\r\n\t\tvar pattern;\r\n\r\n\t\t// Default Easing Patterns\r\n\t\tif (settings.easing === 'easeInQuad') pattern = time * time; // accelerating from zero velocity\r\n\t\tif (settings.easing === 'easeOutQuad') pattern = time * (2 - time); // decelerating to zero velocity\r\n\t\tif (settings.easing === 'easeInOutQuad') pattern = time < 0.5 ? 2 * time * time : -1 + (4 - 2 * time) * time; // acceleration until halfway, then deceleration\r\n\t\tif (settings.easing === 'easeInCubic') pattern = time * time * time; // accelerating from zero velocity\r\n\t\tif (settings.easing === 'easeOutCubic') pattern = (--time) * time * time + 1; // decelerating to zero velocity\r\n\t\tif (settings.easing === 'easeInOutCubic') pattern = time < 0.5 ? 4 * time * time * time : (time - 1) * (2 * time - 2) * (2 * time - 2) + 1; // acceleration until halfway, then deceleration\r\n\t\tif (settings.easing === 'easeInQuart') pattern = time * time * time * time; // accelerating from zero velocity\r\n\t\tif (settings.easing === 'easeOutQuart') pattern = 1 - (--time) * time * time * time; // decelerating to zero velocity\r\n\t\tif (settings.easing === 'easeInOutQuart') pattern = time < 0.5 ? 8 * time * time * time * time : 1 - 8 * (--time) * time * time * time; // acceleration until halfway, then deceleration\r\n\t\tif (settings.easing === 'easeInQuint') pattern = time * time * time * time * time; // accelerating from zero velocity\r\n\t\tif (settings.easing === 'easeOutQuint') pattern = 1 + (--time) * time * time * time * time; // decelerating to zero velocity\r\n\t\tif (settings.easing === 'easeInOutQuint') pattern = time < 0.5 ? 16 * time * time * time * time * time : 1 + 16 * (--time) * time * time * time * time; // acceleration until halfway, then deceleration\r\n\r\n\t\t// Custom Easing Patterns\r\n\t\tif (!!settings.customEasing) pattern = settings.customEasing(time);\r\n\r\n\t\treturn pattern || time; // no easing, no acceleration\r\n\t};\r\n\r\n\t/**\r\n\t * Determine the document's height\r\n\t * @returns {Number}\r\n\t */\r\n\tvar getDocumentHeight = function () {\r\n\t\treturn Math.max(\r\n\t\t\tdocument.body.scrollHeight, document.documentElement.scrollHeight,\r\n\t\t\tdocument.body.offsetHeight, document.documentElement.offsetHeight,\r\n\t\t\tdocument.body.clientHeight, document.documentElement.clientHeight\r\n\t\t);\r\n\t};\r\n\r\n\t/**\r\n\t * Calculate how far to scroll\r\n\t * Clip support added by robjtede - https://github.com/cferdinandi/smooth-scroll/issues/405\r\n\t * @param {Element} anchor       The anchor element to scroll to\r\n\t * @param {Number}  headerHeight Height of a fixed header, if any\r\n\t * @param {Number}  offset       Number of pixels by which to offset scroll\r\n\t * @param {Boolean} clip         If true, adjust scroll distance to prevent abrupt stops near the bottom of the page\r\n\t * @returns {Number}\r\n\t */\r\n\tvar getEndLocation = function (anchor, headerHeight, offset, clip) {\r\n\t\tvar location = 0;\r\n\t\tif (anchor.offsetParent) {\r\n\t\t\tdo {\r\n\t\t\t\tlocation += anchor.offsetTop;\r\n\t\t\t\tanchor = anchor.offsetParent;\r\n\t\t\t} while (anchor);\r\n\t\t}\r\n\t\tlocation = Math.max(location - headerHeight - offset, 0);\r\n\t\tif (clip) {\r\n\t\t\tlocation = Math.min(location, getDocumentHeight() - window.innerHeight);\r\n\t\t}\r\n\t\t\treturn location;\r\n\t};\r\n\r\n\t/**\r\n\t * Get the height of the fixed header\r\n\t * @param  {Node}   header The header\r\n\t * @return {Number}        The height of the header\r\n\t */\r\n\tvar getHeaderHeight = function (header) {\r\n\t\treturn !header ? 0 : (getHeight(header) + header.offsetTop);\r\n\t};\r\n\r\n\t/**\r\n\t * Calculate the speed to use for the animation\r\n\t * @param  {Number} distance The distance to travel\r\n\t * @param  {Object} settings The plugin settings\r\n\t * @return {Number}          How fast to animate\r\n\t */\r\n\tvar getSpeed = function (distance, settings) {\r\n\t\tvar speed = settings.speedAsDuration ? settings.speed : Math.abs(distance / 1000 * settings.speed);\r\n\t\tif (settings.durationMax && speed > settings.durationMax) return settings.durationMax;\r\n\t\tif (settings.durationMin && speed < settings.durationMin) return settings.durationMin;\r\n\t\treturn parseInt(speed, 10);\r\n\t};\r\n\r\n\tvar setHistory = function (options) {\r\n\r\n\t\t// Make sure this should run\r\n\t\tif (!history.replaceState || !options.updateURL || history.state) return;\r\n\r\n\t\t// Get the hash to use\r\n\t\tvar hash = window.location.hash;\r\n\t\thash = hash ? hash : '';\r\n\r\n\t\t// Set a default history\r\n\t\thistory.replaceState(\r\n\t\t\t{\r\n\t\t\t\tsmoothScroll: JSON.stringify(options),\r\n\t\t\t\tanchor: hash ? hash : window.pageYOffset\r\n\t\t\t},\r\n\t\t\tdocument.title,\r\n\t\t\thash ? hash : window.location.href\r\n\t\t);\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Update the URL\r\n\t * @param  {Node}    anchor  The anchor that was scrolled to\r\n\t * @param  {Boolean} isNum   If true, anchor is a number\r\n\t * @param  {Object}  options Settings for Smooth Scroll\r\n\t */\r\n\tvar updateURL = function (anchor, isNum, options) {\r\n\r\n\t\t// Bail if the anchor is a number\r\n\t\tif (isNum) return;\r\n\r\n\t\t// Verify that pushState is supported and the updateURL option is enabled\r\n\t\tif (!history.pushState || !options.updateURL) return;\r\n\r\n\t\t// Update URL\r\n\t\thistory.pushState(\r\n\t\t\t{\r\n\t\t\t\tsmoothScroll: JSON.stringify(options),\r\n\t\t\t\tanchor: anchor.id\r\n\t\t\t},\r\n\t\t\tdocument.title,\r\n\t\t\tanchor === document.documentElement ? '#top' : '#' + anchor.id\r\n\t\t);\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Bring the anchored element into focus\r\n\t * @param {Node}     anchor      The anchor element\r\n\t * @param {Number}   endLocation The end location to scroll to\r\n\t * @param {Boolean}  isNum       If true, scroll is to a position rather than an element\r\n\t */\r\n\tvar adjustFocus = function (anchor, endLocation, isNum) {\r\n\r\n\t\t// Is scrolling to top of page, blur\r\n\t\tif (anchor === 0) {\r\n\t\t\tdocument.body.focus();\r\n\t\t}\r\n\r\n\t\t// Don't run if scrolling to a number on the page\r\n\t\tif (isNum) return;\r\n\r\n\t\t// Otherwise, bring anchor element into focus\r\n\t\tanchor.focus();\r\n\t\tif (document.activeElement !== anchor) {\r\n\t\t\tanchor.setAttribute('tabindex', '-1');\r\n\t\t\tanchor.focus();\r\n\t\t\tanchor.style.outline = 'none';\r\n\t\t}\r\n\t\twindow.scrollTo(0 , endLocation);\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Emit a custom event\r\n\t * @param  {String} type    The event type\r\n\t * @param  {Object} options The settings object\r\n\t * @param  {Node}   anchor  The anchor element\r\n\t * @param  {Node}   toggle  The toggle element\r\n\t */\r\n\tvar emitEvent = function (type, options, anchor, toggle) {\r\n\t\tif (!options.emitEvents || typeof window.CustomEvent !== 'function') return;\r\n\t\tvar event = new CustomEvent(type, {\r\n\t\t\tbubbles: true,\r\n\t\t\tdetail: {\r\n\t\t\t\tanchor: anchor,\r\n\t\t\t\ttoggle: toggle\r\n\t\t\t}\r\n\t\t});\r\n\t\tdocument.dispatchEvent(event);\r\n\t};\r\n\r\n\r\n\t//\r\n\t// SmoothScroll Constructor\r\n\t//\r\n\r\n\tvar SmoothScroll = function (selector, options) {\r\n\r\n\t\t//\r\n\t\t// Variables\r\n\t\t//\r\n\r\n\t\tvar smoothScroll = {}; // Object for public APIs\r\n\t\tvar settings, toggle, fixedHeader, animationInterval;\r\n\r\n\r\n\t\t//\r\n\t\t// Methods\r\n\t\t//\r\n\r\n\t\t/**\r\n\t\t * Cancel a scroll-in-progress\r\n\t\t */\r\n\t\tsmoothScroll.cancelScroll = function (noEvent) {\r\n\t\t\tcancelAnimationFrame(animationInterval);\r\n\t\t\tanimationInterval = null;\r\n\t\t\tif (noEvent) return;\r\n\t\t\temitEvent('scrollCancel', settings);\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Start/stop the scrolling animation\r\n\t\t * @param {Node|Number} anchor  The element or position to scroll to\r\n\t\t * @param {Element}     toggle  The element that toggled the scroll event\r\n\t\t * @param {Object}      options\r\n\t\t */\r\n\t\tsmoothScroll.animateScroll = function (anchor, toggle, options) {\r\n\r\n\t\t\t// Cancel any in progress scrolls\r\n\t\t\tsmoothScroll.cancelScroll();\r\n\r\n\t\t\t// Local settings\r\n\t\t\tvar _settings = extend(settings || defaults, options || {}); // Merge user options with defaults\r\n\r\n\t\t\t// Selectors and variables\r\n\t\t\tvar isNum = Object.prototype.toString.call(anchor) === '[object Number]' ? true : false;\r\n\t\t\tvar anchorElem = isNum || !anchor.tagName ? null : anchor;\r\n\t\t\tif (!isNum && !anchorElem) return;\r\n\t\t\tvar startLocation = window.pageYOffset; // Current location on the page\r\n\t\t\tif (_settings.header && !fixedHeader) {\r\n\t\t\t\t// Get the fixed header if not already set\r\n\t\t\t\tfixedHeader = document.querySelector(_settings.header);\r\n\t\t\t}\r\n\t\t\tvar headerHeight = getHeaderHeight(fixedHeader);\r\n\t\t\tvar endLocation = isNum ? anchor : getEndLocation(anchorElem, headerHeight, parseInt((typeof _settings.offset === 'function' ? _settings.offset(anchor, toggle) : _settings.offset), 10), _settings.clip); // Location to scroll to\r\n\t\t\tvar distance = endLocation - startLocation; // distance to travel\r\n\t\t\tvar documentHeight = getDocumentHeight();\r\n\t\t\tvar timeLapsed = 0;\r\n\t\t\tvar speed = getSpeed(distance, _settings);\r\n\t\t\tvar start, percentage, position;\r\n\r\n\t\t\t/**\r\n\t\t\t * Stop the scroll animation when it reaches its target (or the bottom/top of page)\r\n\t\t\t * @param {Number} position Current position on the page\r\n\t\t\t * @param {Number} endLocation Scroll to location\r\n\t\t\t * @param {Number} animationInterval How much to scroll on this loop\r\n\t\t\t */\r\n\t\t\tvar stopAnimateScroll = function (position, endLocation) {\r\n\r\n\t\t\t\t// Get the current location\r\n\t\t\t\tvar currentLocation = window.pageYOffset;\r\n\r\n\t\t\t\t// Check if the end location has been reached yet (or we've hit the end of the document)\r\n\t\t\t\tif (position == endLocation || currentLocation == endLocation || ((startLocation < endLocation && window.innerHeight + currentLocation) >= documentHeight)) {\r\n\r\n\t\t\t\t\t// Clear the animation timer\r\n\t\t\t\t\tsmoothScroll.cancelScroll(true);\r\n\r\n\t\t\t\t\t// Bring the anchored element into focus\r\n\t\t\t\t\tadjustFocus(anchor, endLocation, isNum);\r\n\r\n\t\t\t\t\t// Emit a custom event\r\n\t\t\t\t\temitEvent('scrollStop', _settings, anchor, toggle);\r\n\r\n\t\t\t\t\t// Reset start\r\n\t\t\t\t\tstart = null;\r\n\t\t\t\t\tanimationInterval = null;\r\n\r\n\t\t\t\t\treturn true;\r\n\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t/**\r\n\t\t\t * Loop scrolling animation\r\n\t\t\t */\r\n\t\t\tvar loopAnimateScroll = function (timestamp) {\r\n\t\t\t\tif (!start) { start = timestamp; }\r\n\t\t\t\ttimeLapsed += timestamp - start;\r\n\t\t\t\tpercentage = speed === 0 ? 0 : (timeLapsed / speed);\r\n\t\t\t\tpercentage = (percentage > 1) ? 1 : percentage;\r\n\t\t\t\tposition = startLocation + (distance * easingPattern(_settings, percentage));\r\n\t\t\t\twindow.scrollTo(0, Math.floor(position));\r\n\t\t\t\tif (!stopAnimateScroll(position, endLocation)) {\r\n\t\t\t\t\tanimationInterval = window.requestAnimationFrame(loopAnimateScroll);\r\n\t\t\t\t\tstart = timestamp;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t/**\r\n\t\t\t * Reset position to fix weird iOS bug\r\n\t\t\t * @link https://github.com/cferdinandi/smooth-scroll/issues/45\r\n\t\t\t */\r\n\t\t\tif (window.pageYOffset === 0) {\r\n\t\t\t\twindow.scrollTo(0, 0);\r\n\t\t\t}\r\n\r\n\t\t\t// Update the URL\r\n\t\t\tupdateURL(anchor, isNum, _settings);\r\n\r\n\t\t\t// If the user prefers reduced motion, jump to location\r\n\t\t\tif (reduceMotion()) {\r\n\t\t\t\tadjustFocus(anchor, Math.floor(endLocation), false);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Emit a custom event\r\n\t\t\temitEvent('scrollStart', _settings, anchor, toggle);\r\n\r\n\t\t\t// Start scrolling animation\r\n\t\t\tsmoothScroll.cancelScroll(true);\r\n\t\t\twindow.requestAnimationFrame(loopAnimateScroll);\r\n\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * If smooth scroll element clicked, animate scroll\r\n\t\t */\r\n\t\tvar clickHandler = function (event) {\r\n\r\n\t\t\t// Don't run if event was canceled but still bubbled up\r\n\t\t\t// By @mgreter - https://github.com/cferdinandi/smooth-scroll/pull/462/\r\n\t\t\tif (event.defaultPrevented) return;\r\n\r\n\t\t\t// Don't run if right-click or command/control + click or shift + click\r\n\t\t\tif (event.button !== 0 || event.metaKey || event.ctrlKey || event.shiftKey) return;\r\n\r\n\t\t\t// Check if event.target has closest() method\r\n\t\t\t// By @totegi - https://github.com/cferdinandi/smooth-scroll/pull/401/\r\n\t\t\tif (!('closest' in event.target)) return;\r\n\r\n\t\t\t// Check if a smooth scroll link was clicked\r\n\t\t\ttoggle = event.target.closest(selector);\r\n\t\t\tif (!toggle || toggle.tagName.toLowerCase() !== 'a' || event.target.closest(settings.ignore)) return;\r\n\r\n\t\t\t// Only run if link is an anchor and points to the current page\r\n\t\t\tif (toggle.hostname !== window.location.hostname || toggle.pathname !== window.location.pathname || !/#/.test(toggle.href)) return;\r\n\r\n\t\t\t// Get an escaped version of the hash\r\n\t\t\tvar hash;\r\n\t\t\ttry {\r\n\t\t\t\thash = escapeCharacters(decodeURIComponent(toggle.hash));\r\n\t\t\t} catch(e) {\r\n\t\t\t\thash = escapeCharacters(toggle.hash);\r\n\t\t\t}\r\n\r\n\t\t\t// Get the anchored element\r\n\t\t\tvar anchor;\r\n\t\t\tif (hash === '#') {\r\n\t\t\t\tif (!settings.topOnEmptyHash) return;\r\n\t\t\t\tanchor = document.documentElement;\r\n\t\t\t} else {\r\n\t\t\t\tanchor = document.querySelector(hash);\r\n\t\t\t}\r\n\t\t\tanchor = !anchor && hash === '#top' ? document.documentElement : anchor;\r\n\r\n\t\t\t// If anchored element exists, scroll to it\r\n\t\t\tif (!anchor) return;\r\n\t\t\tevent.preventDefault();\r\n\t\t\tsetHistory(settings);\r\n\t\t\tsmoothScroll.animateScroll(anchor, toggle);\r\n\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Animate scroll on popstate events\r\n\t\t */\r\n\t\tvar popstateHandler = function () {\r\n\r\n\t\t\t// Stop if history.state doesn't exist (ex. if clicking on a broken anchor link).\r\n\t\t\t// fixes `Cannot read property 'smoothScroll' of null` error getting thrown.\r\n\t\t\tif (history.state === null) return;\r\n\r\n\t\t\t// Only run if state is a popstate record for this instantiation\r\n\t\t\tif (!history.state.smoothScroll || history.state.smoothScroll !== JSON.stringify(settings)) return;\r\n\r\n\t\t\t// Get the anchor\r\n\t\t\tvar anchor = history.state.anchor;\r\n\t\t\tif (typeof anchor === 'string' && anchor) {\r\n\t\t\t\tanchor = document.querySelector(escapeCharacters(history.state.anchor));\r\n\t\t\t\tif (!anchor) return;\r\n\t\t\t}\r\n\r\n\t\t\t// Animate scroll to anchor link\r\n\t\t\tsmoothScroll.animateScroll(anchor, null, {updateURL: false});\r\n\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Destroy the current initialization.\r\n\t\t */\r\n\t\tsmoothScroll.destroy = function () {\r\n\r\n\t\t\t// If plugin isn't already initialized, stop\r\n\t\t\tif (!settings) return;\r\n\r\n\t\t\t// Remove event listeners\r\n\t\t\tdocument.removeEventListener('click', clickHandler, false);\r\n\t\t\twindow.removeEventListener('popstate', popstateHandler, false);\r\n\r\n\t\t\t// Cancel any scrolls-in-progress\r\n\t\t\tsmoothScroll.cancelScroll();\r\n\r\n\t\t\t// Reset variables\r\n\t\t\tsettings = null;\r\n\t\t\ttoggle = null;\r\n\t\t\tfixedHeader = null;\r\n\t\t\tanimationInterval = null;\r\n\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Initialize Smooth Scroll\r\n\t\t * @param {Object} options User settings\r\n\t\t */\r\n\t\tvar init = function () {\r\n\r\n\t\t\t// feature test\r\n\t\t\tif (!supports()) throw 'Smooth Scroll: This browser does not support the required JavaScript methods and browser APIs.';\r\n\r\n\t\t\t// Destroy any existing initializations\r\n\t\t\tsmoothScroll.destroy();\r\n\r\n\t\t\t// Selectors and variables\r\n\t\t\tsettings = extend(defaults, options || {}); // Merge user options with defaults\r\n\t\t\tfixedHeader = settings.header ? document.querySelector(settings.header) : null; // Get the fixed header\r\n\r\n\t\t\t// When a toggle is clicked, run the click handler\r\n\t\t\tdocument.addEventListener('click', clickHandler, false);\r\n\r\n\t\t\t// If updateURL and popState are enabled, listen for pop events\r\n\t\t\tif (settings.updateURL && settings.popstate) {\r\n\t\t\t\twindow.addEventListener('popstate', popstateHandler, false);\r\n\t\t\t}\r\n\r\n\t\t};\r\n\r\n\r\n\t\t//\r\n\t\t// Initialize plugin\r\n\t\t//\r\n\r\n\t\tinit();\r\n\r\n\r\n\t\t//\r\n\t\t// Public APIs\r\n\t\t//\r\n\r\n\t\treturn smoothScroll;\r\n\r\n\t};\r\n\r\n\treturn SmoothScroll;\r\n\r\n})));"]}